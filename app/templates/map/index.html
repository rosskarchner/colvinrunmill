{% extends "base.html" %}

{% block headextra %}
<script type="text/javascript"
    src="http://maps.google.com/maps/api/js?sensor=false">
</script>
<script type="text/javascript" src="/mills.js"> </script>
{% endblock %}

{% block initjs %}
<script type="text/javascript"> 
  function initialize() {
    var latlng = new google.maps.LatLng(38.968778,-77.293148);
    
var eightteensixtyOptions = {
  getTileUrl: function(coord, zoom) {
    return "/1860/tiles-1860/" + zoom +"/" + coord.x+"/"+coord.y+ ".png";
  },
  tileSize: new google.maps.Size(256, 256),
  isPng: true,
  maxZoom:14,
  minZoom:10,
  name:"What",
  
};
 
var eightteensixtyMapType = new google.maps.ImageMapType(eightteensixtyOptions);
 
    
    
    var myOptions = {
      zoom: 10,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      mapTypeControlOptions: {
       mapTypeIds: [google.maps.MapTypeId.ROADMAP,eightteensixtyMapType]
    }
    };
    var map = new google.maps.Map(document.getElementById("map_canvas"),
        myOptions);
        

// map.mapTypes.set("sixty", eightteensixtyMapType);
//map.setMapTypeId("sixty");

   
//   map.overlayMapTypes.insertAt(0, eightteensixtyMapType);
        
        
        
        
        
        
        
        
    var infowindow = new google.maps.InfoWindow()
	for (x in markers){
    	var m= markers[x];
    	m.setMap(map);
 
     	google.maps.event.addListener(m, 'click', function() {
     		var marker=m
     		infowindow.setContent('<a href="'+this.permalink+'">'+ this.title+ '</a>');
     		infowindow.setPosition(this.position);
     		infowindow.open(map);
     		
    		
  		});
    	
    	
    }
  }
 
</script> 
{% endblock %}

{% block content %}
<div id="nav"><a href="{{ url_for('collector') }}"><img src="/static/add-note.png"/> Add a photo</a></div>

  <div id="map_canvas" style="height: 500px; width:700px;"></div>
  
{% endblock %}
